<!DOCTYPE html>
<html lang="en">

<title>PS70: Intro to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">


<nav class="navbar navbar-expand-sm navbar-dark" style=" color: #EEE7E8;">
  <div style="align-items: center; justify-content: center;" class="container-fluid">
    <div class="flexrow">
      <h2 class="nav-title">PS70 Fall 2024</h2>
    </div>
    <div class="navbar-nav">
      <h4><a class="nav-link" href="../index.html">Home</a></h4>
      <h4><a class="nav-link" href="../about.html">About</a></h4>
    </div>
  </div>
</nav>

<body>
<xmp style="display:none;">
<div class="textcontainer">
<p class="margin">   </p>

<h3>Week 6: Electronic Inputs</h3>

<h4>Assignment 1: Capacitive Sensor<h4>

  Okay here's my dream capacitive sensor:

<img src="./MorseCodeMachine.jpg" alt="MorseCodeMachine" class="tool-box-pic">

A morse code encoder that relies on the distance between two sensors to determine dots and dashes and slashes and stuff. so far this is what I have: 

<img src="./FirstCapSetUp.jpeg" alt="Capacitor Set Up" class="tool-box-pic">

Awesome. The next step is to figure out how to collect data for calibration of the sensor!
and turn this: 
<img src="./UnCalGraph.jpg" alt="Uncalibrated Graph" class="tool-box-pic">

into something useful. 

here is the code that I'm using to take measurements for my data collection. Note that I have a 1000 ms Delay jut to make it easier to read for data collection. I will be deleting this when it's action time: 

<!-- Arduino Code Block -->
  <pre><code class="language-cpp">
long result;            // Variable for the result of the tx_rx measurement
int analog_pin = A3;    // Analog input pin
int tx_pin = 4;         // Digital output pin

unsigned long previousMillis = 0;   // Stores the last time the result was printed
const long interval = 500;          // Interval at which to print (in milliseconds)

void setup() {
    pinMode(tx_pin, OUTPUT);        // Pin 4 provides the voltage step
    Serial.begin(9600);             // Begin serial communication at 9600 baud rate
}

void loop() {
  unsigned long currentMillis = millis();   // Get the current time in milliseconds
  
  // Check if the time interval has passed (500 ms in this case)
  if (currentMillis - previousMillis >= interval) {
    previousMillis = currentMillis;  // Save the current time for the next comparison

    result = tx_rx();                // Call the tx_rx function to get the result

  }
}

long tx_rx() {                       // Function to execute tx_rx algorithm
  int read_high;
  int read_low;
  int diff;
  long int sum;
  int N_samples = 100;               // Number of samples to take

  sum = 0;

  for (int i = 0; i < N_samples; i++) {
    digitalWrite(tx_pin, HIGH);      // Step the voltage high on conductor 1
    read_high = analogRead(analog_pin);  // Measure response of conductor 2
    delayMicroseconds(10);           // Delay to reach steady state
    digitalWrite(tx_pin, LOW);       // Step the voltage to zero on conductor 1
    read_low = analogRead(analog_pin);   // Measure response of conductor 2
    diff = read_high - read_low;     // Difference between high and low readings
    sum += diff;                     // Sums up N_samples of these measurements
  }
  
  return sum;                        // Return the sum as the result
}


  </code></pre>

 okay after coming up with some sketchy capcitor measuring methods...

<img src="./SketchyMeasuringMethod.jpeg" alt="SketchyMeasuringMethod" class="tool-box-pic">


  here is my final graph: 

  <img src="./CapacitorGraph.jpg" alt="Capacitor Graph" class="tool-box-pic">

  As we can see, as the two copper plates touch each other, the value exceeds 5000 units! This is going to be useful in programming my morse code encoder. I want to alter my code so that once the value exceeds 5000 units, it will print a dot out on the screen. To do this I just added this line of code: 

  <pre><code class="language-cpp">  
Copy code
if (result > 5000) {
  Serial.print(".");            // Print a period if result is greater than 5000
}

  </code></pre>

added this to make a clear space to print: 
  <pre><code class="language-cpp"> 
  // Print newlines to simulate clearing the screen
  for (int i = 0; i < 10; i++) {
    Serial.println();            // Print 10 newlines to create space
  }
    </code></pre>

and deleted this line: 
  <pre><code class="language-cpp">  
Serial.println(result);
  </code></pre>

Also: (also), I added popsicle sticks to my coppers in order to make them easier to tap: 
  <img src="./PopStickCopper.jpeg" alt="PopStickCopper" class="tool-box-pic">

Should I add smiley faces to them? 
  <img src="./CopperLovers.jpeg" alt="CopperLovers" class="tool-box-pic">
Too late. I've already done it. Copper and Coppertino are lovers. 

Here they are in action: 

<video width="600" controls>
  <source src="./DotAndDash.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

<h4>Assignment 2: [Use + Calibrate Another Sensor]</h4>

</div>
</xmp>
</body>

<script src="../strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>